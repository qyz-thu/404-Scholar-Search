webpackJsonp([1],{"01ue":function(t,e,r){t.exports=r.p+"static/img/new_logo.2246383.png"},Cb9h:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("img",{staticStyle:{"margin-top":"20px"},attrs:{src:r("01ue"),width:"30%"}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var s=r("VU/8")({name:"App"},a,!1,function(t){r("UZMD")},null,null).exports,i=r("/ocq"),o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hello"},[r("h1",[t._v(t._s(t.msg))]),t._v(" "),r("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),r("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1),t._v(" "),r("button",{on:{click:t.gohome}},[t._v("Go to homepage")])])},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),r("br"),t._v(" "),r("li",[r("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var u=r("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}},methods:{gohome:function(){this.$router.push("/home")}}},o,!1,function(t){r("PZAY")},"data-v-4711b656",null).exports,l={name:"Homepage",props:{welcome:String},data:function(){return{query:"",results:{}}},methods:{toSearch:function(){""===this.query?alert("you have entered nothing!"):(this.query.length>=36&&(this.query=this.query.substr(0,36)),this.$router.push("/result/"+this.query+"/all-time"))}}},c={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main_body"},[r("p",[t._v(t._s(t.welcome))]),t._v(" "),r("br"),r("br"),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"search",attrs:{placeholder:"What do you want to know?"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),r("br"),t._v(" "),r("br"),r("br"),t._v(" "),r("button",{staticClass:"buttons",attrs:{type:"button"},on:{click:t.toSearch}},[t._v("Search!")])])},staticRenderFns:[]};var h=r("VU/8")(l,c,!1,function(t){r("WD+j")},null,null).exports,_={name:"ResultEntry",props:["isPaper","abstract","title","time","author","name","research_field","co_authors","field"],data:function(){return{}},methods:{toDetail:function(){},click_author:function(t){console.log("click author "+t),this.$emit("change_author",t)}}},p={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isPaper?r("div",{staticStyle:{padding:"10px"}},[r("b",{staticStyle:{"font-size":"18px"}},[r("a",{attrs:{href:"#/detail/"+t.title},on:{click:t.toDetail}},[t._v(t._s(t.title))])]),r("br"),t._v(" "),r("div",{staticStyle:{color:"grey"}},[r("b",[t._v("Time")]),t._v(": "+t._s(t.time)+"  \n    "),r("b",[t._v("Field")]),t._v(": "),t._l(t.field,function(e){return r("a",[t._v(t._s(e)+";  ")])}),t._v(" "),r("br"),t._v(" "),r("b",[t._v("Author")]),t._v(": "),t._l(t.author,function(e){return r("span",[r("a",{attrs:{href:"#/detail/"+e},on:{click:function(r){return t.click_author(e)}}},[t._v(t._s(e))]),t._v("    ")])})],2)]):r("div",{staticStyle:{padding:"10px"}},[r("b",{staticStyle:{"font-size":"18px"}},[r("a",{attrs:{href:"#/detail/"+t.name},on:{click:t.toDetail}},[t._v(t._s(t.name))])]),r("br"),t._v(" "),r("div",{staticStyle:{color:"grey"}},[t._v("Research fields: "),t._l(t.research_field,function(e){return r("b",{key:e},[t._v(t._s(e)+";  ")])})],2)])},staticRenderFns:[]},d=r("VU/8")(_,p,!1,null,null,null).exports,v={name:"PageSelector",components:{ResultEntry:d},props:["entries","isPaper"],data:function(){return{page_size:6,page_index:0,page_input:1}},computed:{page_number:function(){return Math.ceil(this.entries.length/this.page_size)},current_page:function(){return this.page_index+1<this.page_number?this.entries.slice(this.page_index*this.page_size,(this.page_index+1)*this.page_size):this.entries.slice(this.page_index*this.page_size,this.entries.length)},has_next:function(){return this.page_index+1<this.page_number},has_previous:function(){return this.page_index>0}},methods:{toNext:function(){this.page_index+=1},toPrevious:function(){this.page_index-=1},goTo:function(){console.log(this.page_input),this.page_input>this.page_number?(this.page_index=this.page_number-1,this.page_input=this.page_number):this.page_input<=0?(this.page_index=0,this.page_input=1):this.page_index=Number(this.page_input)-1},change_author:function(t){console.log("change author to "+t),this.$emit("update",t)}}},g={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isPaper?r("p",t._l(t.current_page,function(e){return r("ResultEntry",{key:e.title,attrs:{"is-paper":!0,title:e.title,field:e.fields,time:e.time,author:e.authors},on:{change_author:t.change_author}},[t._v("\n      "+t._s(e)+"\n    ")])}),1):r("p",t._l(t.current_page,function(e){return r("ResultEntry",{key:e.name,attrs:{name:e.name,research_field:e.researchFields},on:{change_author:t.change_author}})}),1),t._v(" "),r("br"),t._v(" "),r("p",{staticStyle:{"text-align":"center"}},[t.has_next?r("a",{staticClass:"click_text",on:{click:t.toNext}},[t._v("Next")]):t._e(),t._v("   \n    "),t.has_previous?r("a",{staticClass:"click_text",on:{click:t.toPrevious}},[t._v("Previous")]):t._e(),t._v("\n        第"+t._s(t.page_index+1)+"页，共"+t._s(t.page_number)+"页   跳至第"),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.page_input,expression:"page_input"}],staticStyle:{width:"20pt"},attrs:{oninput:"value=value.replace(/[^\\d]/g,'')"},domProps:{value:t.page_input},on:{input:function(e){e.target.composing||(t.page_input=e.target.value)}}})]),t._v("页\n    "),r("a",{staticClass:"click_text",on:{click:t.goTo}},[t._v("Go")])])])},staticRenderFns:[]};var m=r("VU/8")(v,g,!1,function(t){r("rXer")},"data-v-17273a21",null).exports,f=[{ch:"全部时间",en:"all-time"},{ch:"最近一年",en:"last-year"},{ch:"最近半年",en:"last-half-year"},{ch:"最近一月",en:"last-month"},{ch:"最近一周",en:"last-week"}],y={name:"Result",components:{PageSelector:m,ResultEntry:d},data:function(){return{query:this.$route.params.query,results:[],times:f,new_query:this.$route.params.query,papers:[],timespans:this.$route.params.timespan,isPaper:!1,no_result_warning:"Sorry, we found no result matching "+this.$route.params.query}},computed:{no_results:function(){return 0===this.results.length},key_word:function(){return this.$route.params.query}},methods:{newSearch:function(){var t=this;""===this.new_query?alert("you have entered nothing!"):(this.new_query.length>=60&&(this.new_query=this.new_query.substr(0,60)),this.$router.push("/result/"+this.new_query+"/"+this.timespans),this.no_result_warning="Searching...",this.$axios.get("http://123.57.231.102:8080/search?keyword="+this.new_query+"&keytype=author").then(function(e){t.results=e.data.result,t.no_result_warning="Sorry, we found no result matching "+t.key_word}))},updateTime:function(t){this.timespans=t},selectTime:function(){var t=document.getElementById("date1").value,e=document.getElementById("date2").value;t=t.slice(0,4)+t.slice(5,7)+t.slice(8,10),e=e.slice(0,4)+e.slice(5,7)+e.slice(8,10),""!==t&&""!==e&&t<e?(this.timespans=t+"-"+e,this.$router.push("./"+t+"-"+e)):alert("Invalid date input!")}},mounted:function(){var t=this;this.$axios.get("http://123.57.231.102:8080/search?keyword="+this.query+"&keytype=author").then(function(e){return t.results=e.data.result}).catch(function(t){return console.log(t)})}},b={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main_body",staticStyle:{height:"150%"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.new_query,expression:"new_query"}],staticClass:"search",attrs:{placeholder:"What do you want to know?"},domProps:{value:t.new_query},on:{input:function(e){e.target.composing||(t.new_query=e.target.value)}}}),t._v(" "),r("button",{staticClass:"buttons",attrs:{type:"button"},on:{click:t.newSearch}},[t._v("Search!")]),t._v(" "),r("br"),r("br"),t._v(" "),r("table",{staticStyle:{width:"100%","text-align":"left"}},[r("tr",{staticStyle:{"vertical-align":"top"}},[r("td",{staticStyle:{width:"20%","text-align":"center","padding-right":"30px"}},[r("p",[t._v("当前时间范围："+t._s(t.timespans))]),t._v(" "),r("input",{attrs:{type:"date",id:"date1"}}),r("br"),t._v(" "),r("input",{attrs:{type:"date",id:"date2"}}),r("br"),t._v(" "),r("button",{attrs:{type:"button"},on:{click:t.selectTime}},[t._v("选择")]),r("br"),r("br"),t._v(" "),r("b",{staticStyle:{"font-size":"17px","line-height":"25px"}},[t._v("选择时间范围：")]),r("br"),t._v(" "),t._l(t.times,function(e){return r("a",{staticStyle:{"font-size":"15px","line-height":"25px"},attrs:{href:"#/result/"+t.query+"/"+e.en},on:{click:function(r){return t.updateTime(e.en)}}},[t._v("\n          "+t._s(e.ch)),r("br")])})],2),t._v(" "),t.isPaper?r("td",{staticStyle:{width:"60%","text-align":"left","padding-top":"0"}},[r("div",t._l(t.papers,function(e){return r("ResultEntry",{key:e.title,attrs:{"is-paper":t.isPaper,title:e.title,time:"xxxx-xx-xx",author:"somebody et.al",abstract:e.abstract}})}),1),t._v(" "),t.no_results?r("div",{staticStyle:{"font-size":"25px"}},[r("b",[t._v(t._s(t.no_result_warning))])]):t._e()]):r("td",{staticStyle:{width:"60%","text-align":"left","padding-top":"0"}},[t.no_results?r("div",{staticStyle:{"font-size":"22px"}},[r("br"),t._v(" "),r("br"),t._v(" "),r("b",[t._v(t._s(t.no_result_warning))])]):t._e(),t._v(" "),r("PageSelector",{attrs:{entries:t.results,"is-paper":!1}})],1),t._v(" "),t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"20%","margin-left":"20px"}},[this._v("\n        Space for JOJO references"),e("br"),this._v(" "),e("img",{staticStyle:{"margin-top":"20px"},attrs:{src:r("rzdm"),width:"80%"}})])}]},w=r("VU/8")(y,b,!1,null,null,null).exports,x={name:"Detail",components:{PageSelector:m,ResultEntry:d},data:function(){return{isPaper:!1,title:this.$route.params.title,co_authors:[","],research_fields:[],papers:[],new_query:""}},computed:{has_coauthor:function(){return 0!==this.co_authors.length},current_author:function(){return this.$route.params.title}},beforeMount:function(){var t=this;this.$axios.get("http://123.57.231.102:8080/query?name="+this.title).then(function(e){console.log(e.data),"success"===e.data.status&&(t.co_authors=e.data.result.co_authors,t.co_authors.length>3&&(t.co_authors=t.co_authors.slice(0,3)),t.research_fields=e.data.result.researchFields,t.research_fields.length>3&&(t.research_fields=t.research_fields.slice(0,3)),t.papers=e.data.result.papers),console.log(t.co_authors)}).catch(function(t){return console.log(t)})},mounted:function(){},methods:{update:function(t){var e=this;console.log("update author to "+t),this.$axios.get("http://123.57.231.102:8080/query?name="+t).then(function(r){console.log(r.data),"success"===r.data.status?(e.co_authors=r.data.result.co_authors,e.co_authors.length>3&&(e.co_authors=e.co_authors.slice(0,3)),e.research_fields=r.data.result.researchFields,e.research_fields.length>3&&(e.research_fields=e.research_fields.slice(0,3)),e.papers=r.data.result.papers,e.title=t):(e.co_authors=[],e.research_fields=[],e.papers=[],e.title="Sorry, we don't have this author in our database now")})},newSearch:function(){var t=this;console.log("make new search"),""===this.new_query?alert("you have entered nothing!"):(this.new_query.length>=60&&(this.new_query=this.new_query.substr(0,60)),this.$router.push("/result/"+this.new_query+"/"+this.timespans),this.$axios.get("http://123.57.231.102:8080/search?keyword="+this.new_query+"&keytype=author").then(function(e){t.results=e.data.result}))}}},S={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main_body"},[r("p",{staticStyle:{"font-size":"28px"}},[t._v(t._s(t.title))]),r("br"),t._v(" "),r("table",{staticStyle:{width:"100%","text-align":"left"}},[r("tr",{staticStyle:{"vertical-align":"top"}},[r("td",{staticStyle:{width:"20%","text-align":"center","padding-right":"30px"}},[r("p",{staticStyle:{"font-size":"20px"}},[t._v("Research Fields:")]),t._v(" "),t._l(t.research_fields,function(e){return r("p",[r("b",[t._v(t._s(e))])])})],2),t._v(" "),r("td",{staticStyle:{width:"50%","text-align":"left","padding-top":"0"}},[r("PageSelector",{attrs:{entries:t.papers,"is-paper":!0},on:{update:t.update}})],1),t._v(" "),r("td",{staticStyle:{width:"30%","margin-left":"20px"}},[r("p",{staticStyle:{"font-size":"20px"}},[t._v("Co-authors:")]),t._v(" "),t.has_coauthor?r("div",t._l(t.co_authors,function(e){return r("p",[t._v("\n            Name: "),r("a",[r("b",[t._v(t._s(e.name))])]),r("br"),t._v("\n            Similarity: "+t._s(e.similarity)),r("br"),t._v("\n            Number: "+t._s(e.num)),r("br"),t._v(" "),r("br")])}),0):r("div",[t._v("\n          Sorry, we don't have co-authors of "),r("b",[t._v(t._s(t.current_author))]),t._v(" in our database now.\n        ")])])])]),t._v(" "),r("br"),r("br"),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.new_query,expression:"new_query"}],staticClass:"search",attrs:{placeholder:"Who else do you want to know?"},domProps:{value:t.new_query},on:{input:function(e){e.target.composing||(t.new_query=e.target.value)}}}),t._v(" "),r("button",{staticClass:"buttons",attrs:{type:"button"},on:{click:t.newSearch}},[t._v("Search!")])])},staticRenderFns:[]};var k=r("VU/8")(x,S,!1,function(t){r("Cb9h")},null,null).exports;n.a.use(i.a);var q=new i.a({routes:[{path:"/hello",name:"HelloWorld",component:u},{path:"/",name:"Homepage",component:h},{path:"/result/:query/:timespan",name:"Result",component:w},{path:"/detail/:title",name:"Detail",component:k}]}),$=r("mtWM"),P=r.n($);n.a.prototype.$axios=P.a,n.a.config.productionTip=!1,new n.a({el:"#app",router:q,components:{App:s},template:"<App/>"})},PZAY:function(t,e){},UZMD:function(t,e){},"WD+j":function(t,e){},rXer:function(t,e){},rzdm:function(t,e,r){t.exports=r.p+"static/img/jojo.0cc90a9.jpg"}},["NHnr"]);
//# sourceMappingURL=app.c122eacc19b0de4eab73.js.map